<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp Chat AI</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: #e5ddd5; }
        .header { background: #075e54; color: white; padding: 10px; display: flex; align-items: center; position: fixed; width: 100%; top: 0; z-index: 1000; }
        .header img { border-radius: 50%; width: 40px; height: 40px; margin-right: 10px; border: 1px solid white; }
        .chat-container { padding: 70px 10px 80px 10px; display: flex; flex-direction: column; }
        .msg { max-width: 75%; padding: 8px 12px; margin: 5px 0; border-radius: 8px; font-size: 15px; position: relative; box-shadow: 0 1px 1px rgba(0,0,0,0.1); }
        .sent { align-self: flex-end; background: #dcf8c6; }
        .received { align-self: flex-start; background: white; }
        .status { font-size: 10px; color: #999; text-align: right; margin-top: 4px; }
        .footer { position: fixed; bottom: 0; width: 100%; background: #f0f0f0; padding: 10px; display: flex; align-items: center; box-sizing: border-box; }
        input { flex: 1; padding: 12px; border-radius: 25px; border: none; outline: none; margin-right: 5px; font-size: 16px; }
        .btn { background: #075e54; color: white; border: none; width: 45px; height: 45px; border-radius: 50%; cursor: pointer; font-size: 20px; display: flex; align-items: center; justify-content: center; }
        .typing { font-style: italic; color: #25D366; font-size: 12px; }
    </style>
</head>
<body>

<div class="header">
    <img src="https://i.pravatar.cc/150?u=priya" alt="Priya">
    <div>
        <strong>Priya</strong><br>
        <span id="sub-status" style="font-size: 12px;">Online</span>
    </div>
</div>

<div class="chat-container" id="chatBox">
    <div class="msg received">Haan ji boliyee...<div class="status">10:00 AM</div></div>
</div>

<div class="footer">
    <input type="text" id="userInput" placeholder="Type a message...">
    <button class="btn" onclick="processChat()">âž¤</button>
</div>

<script>
    const chatBox = document.getElementById('chatBox');
    const subStatus = document.getElementById('sub-status');

    // Aapke Sawal aur Jawab
    const responses = {
        "kaha hoo madam ji": "Ghar jaa aai hun abhi",
        "ghar pe kon kon hai": "Bhai aur mummy",
        "10000 ki jarurat": "itne too nahi lekin 8000 tak bhej sakti hun qr ya number bata do upi karti hun bs 2 mint lagegi",
        "majak kar raha tha": "aisa majak mujhe pasand nahi hai warna block kar dugi",
        "gf banwa de": "main aisa kam nahi karti hun",
        "dhoka diya": "theek hai kosish karti hun",
        "9 baje mil": "theek hai lekin 10 mint ke liye bs",
        "khana kha liya": "haa hotel pe khaya tha"
    };

    function processChat() {
        let inputField = document.getElementById('userInput');
        let userText = inputField.value.trim();
        if (userText === "") return;

        // 1. User ka message dikhao
        addBubble(userText, 'sent');
        inputField.value = "";

        // 2. Typing status dikhao
        subStatus.innerText = "typing...";
        
        setTimeout(() => {
            let botReply = "Offline / Pata nahi";
            
            // 3. Jawab dhoondo
            for (let key in responses) {
                if (userText.toLowerCase().includes(key.toLowerCase())) {
                    botReply = responses[key];
                    break;
                }
            }

            // 4. Jawab dikhao aur BOL kar sunao
            addBubble(botReply, 'received');
            speakText(botReply);
            subStatus.innerText = "Online";
        }, 1500);
    }

    function addBubble(text, className) {
        let div = document.createElement('div');
        div.className = "msg " + className;
        let time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
        div.innerHTML = text + `<div class="status">${time}</div>`;
        chatBox.appendChild(div);
        window.scrollTo(0, document.body.scrollHeight);
    }

    // AI Voice Function (No files needed)
    function speakText(text) {
        if ('speechSynthesis' in window) {
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'hi-IN'; // Hindi Language
            
            // Voice selection
            let voices = window.speechSynthesis.getVoices();
            // Koshish karenge ki Female voice mile
            let femaleVoice = voices.find(voice => voice.name.includes('Google') && voice.name.includes('Hindi')) || voices[0];
            
            utterance.voice = femaleVoice;
            utterance.pitch = 1.2; // Thodi ladki jaisi awaaz ke liye
            utterance.rate = 1.0;
            
            window.speechSynthesis.speak(utterance);
        }
    }

    // Chrome mein voices load hone mein time lagta hai
    window.speechSynthesis.onvoiceschanged = () => { window.speechSynthesis.getVoices(); };
</script>

</body>
</html>
